<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Movie List</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.3/css/bootstrap.min.css"
      integrity="sha512-YvIy+PYWn15ruGm75XeDz+oAKlFjZt/tWeGtJbQ2vKsTyM+8yEJxNxs9RgJYsknpIb+Z3Tq3rzTXODTAgz8u6g=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <body>
    <div class="container">
      <h1 class="text-center my-4">Movie List</h1>
      <table class="table table-striped table-bordered">
        <thead class="table-light">
          <tr>
            <th>Title</th>
            <th>Short Title</th>
            <th>Distributor</th>
            <th>Territory</th>
            <th>Primary Genre</th>
            <th>Additional Genre</th>
            <th>Director 1</th>
            <th>Director 2</th>
            <th>Cast 1</th>
            <th>Cast 2</th>
            <th>Synopsis</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let movie of movies">
            <td>{{ movie.title }}</td>
            <td>{{ movie.shortTitle }}</td>
            <td>{{ movie.distributor }}</td>
            <td>{{ movie.territory }}</td>
            <td>{{ movie.primaryGenre }}</td>
            <td>{{ movie.additionalGenre }}</td>
            <td>{{ movie.director1 }}</td>
            <td>{{ movie.director2 }}</td>
            <td>{{ movie.cast1 }}</td>
            <td>{{ movie.cast2 }}</td>
            <td>{{ movie.synopsis }}</td>
          </tr>
        </tbody>
      </table>
      <div *ngIf="uploadErrorMessage" class="error">
        {{ uploadErrorMessage }}
      </div>
      <div *ngIf="errorMessage" class="alert alert-danger">
        {{ errorMessage }}
      </div>
      <div class="row">
        <div class="col-md-6 offset-md-3">
          <h2 class="text-center">Upload File</h2>
          <div class="mb-3">
            <input type="file"class="form-control" (change)="onFileChange($event)"accept=".xlsx , .xls" />
          </div>
          <button
            class="btn btn-primary"
            (click)="saveFile()"
            [disabled]="!selectedFile"
          >
            Upload
          </button>
          <div *ngIf="uploadedFileName" class="mt-3">
            Uploaded file: {{ uploadedFileName }}
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
